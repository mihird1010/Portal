
<!DOCTYPE html><html>
<head>

  <title>SCHEME PORTAL</title>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <link type="text/css" rel="stylesheet" href='css/materialize.min.css' media="screen,projection"/>
  <link type="text/css" rel="stylesheet" href='css/bootstrap.min.css' media="screen,projection"/>
  <style>
body {
    background-color:#ef5350;}

    .cat_block {
  /*width:70px;*/
  height: 270px;
  float: left;
  display: table;
  margin: 15px;
  position: relative;
  /*border-radius: 1000px;*/
  padding: 10px;
  background: rgba(0,0,0,0);
  /**/
  }

  .cat_image{
    border-radius:1000px;
    box-shadow: 5px 5px 2px #bfbfbf;
  cursor: pointer; 
  }

  .cat_image:active{
    /*border-radius:1000px;*/
    box-shadow: 0px 0px 0px #bfbfbf;
  }
  
</style>
 </head>
  <body>
  <img src='images/PARISHODH.png'  style="padding-left:1%;">
  <div class="card-panel white " style="width: 80%; position:absolute; top:20%; left: 10%; height:auto;">
    <h4 align="center" style="color:#e53935;"> SCHEME PORTAL </h4>
	 <div class="inside container" style="padding-top: 5%; padding-left: 5%;">

   
  </div>
	</div>	  
  </div>
  <script type="text/javascript" src='js/jquery-2.2.1.min.js'></script>
  <script type="text/javascript" src='js/bootstrap.min.js'></script>
  <script type="text/javascript" src='js/materialize.min.js'></script>
  <script type="text/javascript">
  $(document).ready(function(){
    get_cat(populate);
  });

  $('.inside').on('click','.cat_block', function() {
        var qno;
        qno = $(this).data('cat');
      schemelist(qno,redirection);
    });

  function populate(data){
  var noq=data.all_categories.length;
  var cat;
  for(cat=0;cat<noq;cat++)
  $('.inside').append('<table class="cat_block col-md-3"; id="qb_'+cat+'"; data-cat="'+data.all_categories[cat]+'"><tr style="vertical-align: middle"><td style="text-align: center; font-weight: bold;"><img src="images/placeholder.png" class="cat_image"  ><h3>'+data.all_categories[cat]+'</h3></td></tr></table>');
}
  
function get_cat(callback){
  
  $.ajax({
  type: 'GET',
  // data: '{"category":'+data+'}'
  url: '/getcategories/',
  success: function(response){
    callback(response);
  }
  });
}
  function schemelist(data,callback){
	
	$.ajax({
	type: 'GET',
	data: {"category":data},
	url: '/schemelist/',
	contentType: 'application/json',
	success: function(response){
		callback(response);
	}
	});
}
function redirection(data){
window.location=window.location.origin+"/static/available_scheme.html?schemes_data="+JSON.stringify(data);
  // console.log(data);         
}

  </script>

</body>
</html>
